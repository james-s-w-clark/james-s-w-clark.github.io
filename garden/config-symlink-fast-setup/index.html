<!doctype html><html><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><link rel=preconnect href=https://fonts.googleapis.com><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link href="https://fonts.googleapis.com/css2?family=Mulish:wght@300;400;600;700;800&family=Frank+Ruhl+Libre:wght@200;300;400;500;600&family=Encode+Sans+Semi+Condensed:wght@400&display=swap" rel=stylesheet><link rel=stylesheet type=text/css href=/css/bootstrap.min.css><link rel=stylesheet type=text/css href=/css/all.min.css><link disabled id=dark-mode-theme rel=stylesheet href=/css/dark.css><link rel=stylesheet type=text/css href=/css/style.css><link rel=stylesheet type=text/css href=/css/my_style.css><title>James' Digital Garden | Symlinks, syncs, and app configuration</title><meta name=description content="Save time when setting up your apps (again)"></head><body><nav class="navbar navbar-expand-lg navbar-light bg-light"><div class=container><a class=navbar-brand href=https://james-s-w-clark.github.io><b style=font-weight:800>JC</b></a>
<button class=navbar-toggler type=button data-bs-toggle=collapse data-bs-target=#navbarNavDropdown aria-controls=navbarNavDropdown aria-expanded=false aria-label="Toggle navigation">
<span class=navbar-toggler-icon></span></button><div class="collapse navbar-collapse" id=navbarNavDropdown><ul class="navbar-nav ms-auto mt-2 mt-lg-0"><li class=nav-item><a class=nav-link href=/garden/>Digital Garden</a></li><li class=nav-item><a class=nav-link href=/about/>About</a></li><li class="nav-item px-2 pt-1"><a class="btn fas fa-moon" id=dark-mode-toggle></a></li></ul></div></div></nav><div id=content><div class=container style=max-width:800px><div class="py-4 rounded-3"><div class="container-fluid py-2"><h1 class="display-2 mb-4 text-center">Symlinks, syncs, and app configuration</h1></div><p class="text-center fs-4 fst-italic serif">Save time when setting up your apps (again)</p><div class="text-center pt-4"></div></div><div class="row justify-content-center mb-5"><div class=col-12><p class="card-date m-0">Created Jan 18, 2023 -
Last updated: Jan 18, 2023</p><hr class=dropdown-divider><div class="row justify-content-between"><div class=col-sm-4><span class=status>Evergreen ðŸŒ³</span></div><div class=col-sm-8 style=text-align:right><span class="badge tag-badge">tech</span>
<span class="badge tag-badge">applications</span></div></div></div></div><div class="container-fluid py-2"><div class="serif main-content"><p>When setting up a new Windows device, there are some tools that can help you to install your apps quickly and easily from the command line (WinGet, chocolatey). Whilst these are great (and can actually install most of your apps), one thing they canâ€™t do is transfer your configuration between devices.</p><p>In this short blog, weâ€™ll be using:</p><ul><li>A cloud sync of choice (Google Drive / OneDrive / DropBox etc.)<ul><li>So I have my configuration files on any device</li></ul></li><li>Symbolic links, in a tiny script file<ul><li>So apps can easily access the backed-up configuration, and sync changes</li></ul></li><li>An application we love, which uses simple configuration files</li></ul><hr><p>For this worked example, we&rsquo;ll use Espanso, and a folder &ldquo;Junction&rdquo; symlink.</p><p>The folder linking must be done before the source folder (Espanso&rsquo;s config) is created. Either do this before installing the app, or do some file/folder shuffling.
It doesn&rsquo;t matter if the target exists or not.</p><p>In your cloud-sync&rsquo;d folder (<code>%HomePath%\OneDrive\Apps\espanso</code>), create a file <code>symlink.bat</code> and add:</p><pre tabindex=0><code>mklink /J %APPDATA%\espanso %HomePath%\OneDrive\Apps\espanso
</code></pre><p>In Windows, the <code>%APPDATA%</code> folder will look like this if the command succeed; note the little arrow on our symlinked folder:</p><p><img src=symlink_folder_icon.png alt=Untitled></p><p>In <code>......./OneDrive/apps/espanso/match/base.yml</code>, add this to the main <code>matches</code> body:</p><pre tabindex=0><code>- trigger: &#34;:synctest&#34;
  replace: &#34;your espanso config was sync&#39;d sucessfully!&#34;
</code></pre><p>Install espanso with default settings</p><p>Espanso startup logs show our symlink folder being loaded in. It does this anyway (nothing special is happening to the file loading&mldr; other than it actually loading from our cloud sync&rsquo;d folder!):</p><div class=highlight><pre tabindex=0 style=color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-scala data-lang=scala><span style=display:flex><span><span style=color:#f92672>...</span> <span style=color:#111>reading</span> <span style=color:#111>configs</span> <span style=color:#111>from</span><span style=color:#00a8c8>:</span> <span style=color:#960050;background-color:#1e0010>&#34;</span><span style=color:#00a8c8>C:\\Users\\james\\AppData\\Roaming\\espanso</span><span style=color:#960050;background-color:#1e0010>&#34;</span>
</span></span><span style=display:flex><span><span style=color:#00a8c8>...</span> <span style=color:#00a8c8>reading</span> <span style=color:#00a8c8>packages</span> <span style=color:#00a8c8>from:</span> <span style=color:#960050;background-color:#1e0010>&#34;</span><span style=color:#00a8c8>C:\\Users\\james\\AppData\\Roaming\\espanso\\match\\packages</span><span style=color:#960050;background-color:#1e0010>&#34;</span>
</span></span></code></pre></div><p>So if we enter our special phrase, <code>:synctest</code>, we should see it expanded to:</p><p><code>your espanso config was syncâ€™d sucessfully!</code></p><p>On another computer (or a fresh installation of Windows), all you have to do is double-click the .bat file.
In just a few minutes, we&rsquo;ve made a system that will always take care of our favourite Espanso packages & personalised keywords.
Also note that any changes we make will be backed up to the cloud too!</p><hr><p>What weâ€™ve done here can be applied to more applications which have simple configuration.
The scripts to create junctions/symbolic links could be per-app, or you could put them all in one script (to be run before a big WinGet/Brew install).</p><p>Hereâ€™s a few configurations ones I may set up this synchronisation for:</p><ul><li>Headphone EQ - Peace/EqualizerAPO - .txt files represent frequencies/decibels etc.</li><li>GPU Overclock/Undervolt - MSI Afterburner - Custom curve is a bit tricky to make (I have to search for my notes on instructions every time I set up)</li><li>Calibre, for digital book management</li><li>&mldr; I can&rsquo;t think of more, but I&rsquo;m happy even with just Espanso having this :-)</li></ul><p>The same principles apply to Ubuntu and MacOS - but implementation of your symlink script files might look more like <a href=https://apple.stackexchange.com/a/115647>this StackExchange answer</a>.</p></div></div></div></div><div class=container><div class="row justify-content-between"><div class=col-sm-4><p class=footer>James Clark Â© 2024</p></div><div class="col-sm-6 d-flex flex-row-reverse"><a class="footer-social px-2" href=https://raw.githubusercontent.com/james-s-w-clark/james-s-w-clark.github.io/gh-pages/index.xml target=_blank><i class="fas fa-rss"></i></a>
<a class="footer-social px-2" href=https://github.com/james-s-w-clark target=_blank><i class="fab fa-github"></i></a>
<a class="footer-social px-2" href=https://medium.com/@james.sw.clark target=_blank><i class="fab fa-medium-m"></i></a>
<a class="footer-social px-2" href=https://www.linkedin.com/in/james-sw-clark/ target=_blank><i class="fab fa-linkedin-in"></i></a></div></div></div><script src=/js/bootstrap.min.js></script>
<script type=text/javascript src=/js/jquery.min.js></script>
<script src=/js/isotope.pkgd.min.js></script>
<script src=https://cdn.jsdelivr.net/npm/masonry-layout@4.2.2/dist/masonry.pkgd.min.js integrity=sha384-GNFwBvfVxBkLMJpYMOABq3c+d3KnQxudP/mGPkzpZSTYykLBNsZEnG2D9G/X/+7D crossorigin=anonymous async></script>
<script src=/js/dark.js></script>
<script src=/js/isotope.js></script>
<script src=/js/mermaid.min.js></script>
<script>mermaid.initialize({startOnLoad:!0,securityLevel:"loose"})</script></body></html>